webpackJsonp([6],{aEKa:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("Dd8w"),i=a.n(l),r=a("5jRo"),s=a("SJI6"),n={name:"rechargeList",mixins:[r.a],data:function(){return{dialogVisible:!1,currentPage:1,fixOrderObj:{show:!1,sellerOrderId:"",receiveName:"",receiveTelephone:"",receiveProvince:"",receiveCity:"",receiveRegion:"",receiveAddress:""},input:"",input1:"",input2:"",input3:"",value1:"",textarea:"",value3:"",apiUrl:"/api/order/search/getSellerOrderByCondition",options:[{value:"1",label:"圆通"}],value:"",payState:[{value4:"0",label:"未付款"},{value4:"1",label:"已付款"},{value4:"2",label:"任务取消"}],value4:"",orderState:[{value5:"0",label:"未获取运单"},{value5:"1",label:"已获取运单"},{value5:"2",label:"订单取消"}],value5:"",value6:this.$route.query.sellerTaskId||"",tableData:[],sellerOrderIds:[]}},computed:i()({params:function(){return{currPageNo:this.pageNo,limit:this.pageSize,createStartTime:this.value3?this.value3[0]:null,createEndTime:this.value3?this.value3[1]:null,logisticsType:this.value,payStatus:this.value4,orderStatus:this.value5,thirdOrderId:this.input2,receiveTelephone:this.input,sellerTaskId:this.value6,logisticsOrderId:this.input1,sellerUserName:this.input3,substationId:this.userInfo.substationId}}},Object(s.mapGetters)(["userInfo"])),methods:{search:function(){this.getList()},setList:function(e){this.tableData=e},handSelect:function(e){for(var t=[],a=0;a<e.length;a++)t.push(e[a].sellerOrderId);this.sellerOrderIds=t},getOrderId:function(){var e=this;if(0===this.sellerOrderIds.length)return this.$message({type:"warning",message:"请至少选择一条数据"}),!1;this.$ajax.post("/api/order/operate/reGetLogisticsOrderIds",{sellerOrderIds:this.sellerOrderIds}).then(function(t){if("200"===t.data.code){e.$message({type:"warning",message:"获取中,请稍等......"});var a=3,l=setInterval(function(){0===--a&&(e.$message({type:"success",message:"重新获取成功"}),e.getList(),clearInterval(l))},1e3)}else e.$message({type:"warning",message:t.data.message})}).catch(function(e){})},sureToFix:function(){var e=this;this.$ajax.post("/api/order/operate/fixTaskOrder",this.fixOrderObj).then(function(t){"200"===t.data.code?(e.$message({message:"操作成功",type:"success"}),e.getList(),e.fixOrderObj.show=!1):e.$message({message:t.data.message,type:"warning"})}).catch(function(){e.$message.error("服务器错误！")})},handleClick:function(e){var t={show:this.fixOrderObj.show||"",sellerOrderId:e.sellerOrderId||"",receiveName:e.receiveName||"",receiveTelephone:e.receiveTelephone||"",receiveProvince:e.receiveProvince||"",receiveCity:e.receiveCity||"",receiveRegion:e.receiveRegion||"",receiveAddress:e.receiveAddress||""};this.fixOrderObj=t,this.fixOrderObj.show=!0},initTime:function(){var e=(new Date).getTime(),t=e,a=new Date(e-2592e5),l=a.getFullYear(),i=a.getMonth()<9?"0"+(a.getMonth()+1):a.getMonth()+1,r=a.getDate()<=9?"0"+a.getDate():a.getDate(),s=new Date(t),n=l+"-"+i+"-"+r+" 00:00:00",o=s.getFullYear()+"-"+(s.getMonth()<9?"0"+(s.getMonth()+1):s.getMonth()+1)+"-"+(s.getDate()<=9?"0"+s.getDate():s.getDate())+" 23:59:59";this.value3=[n,o]}},created:function(){this.initTime()}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"rechargeList"},[a("div",{staticClass:"wrap"},[a("h3",[e._v("订单列表")]),e._v(" "),a("ul",[a("li",[e._v("\n        物流平台:\n        "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("li",[e._v("\n        付款状态:\n        "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value4,callback:function(t){e.value4=t},expression:"value4"}},e._l(e.payState,function(e){return a("el-option",{key:e.value4,attrs:{label:e.label,value:e.value4}})}))],1),e._v(" "),a("li",[e._v("\n        订单状态:\n        "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value5,callback:function(t){e.value5=t},expression:"value5"}},e._l(e.orderState,function(e){return a("el-option",{key:e.value5,attrs:{label:e.label,value:e.value5}})}))],1)]),e._v(" "),a("ul",{staticStyle:{"margin-top":"20px"}},[a("li",[e._v("\n        任务号:    \n        "),a("el-input",{attrs:{placeholder:"请输入编号"},model:{value:e.value6,callback:function(t){e.value6=t},expression:"value6"}})],1),e._v(" "),a("li",[a("span",[e._v("订单号:    ")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入编号"},model:{value:e.input2,callback:function(t){e.input2=t},expression:"input2"}})],1),e._v(" "),a("li",[a("span",[e._v("收件手机:")]),e._v(" "),a("el-input",{attrs:{placeholder:"请输入编号"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1)]),e._v(" "),a("ul",{staticClass:"ulTow"},[a("li",[e._v("\n        快递单号:\n        "),a("el-input",{attrs:{placeholder:"请输入编号"},model:{value:e.input1,callback:function(t){e.input1=t},expression:"input1"}})],1),e._v(" "),a("li",[e._v("\n        用户名:    \n        "),a("el-input",{attrs:{placeholder:""},model:{value:e.input3,callback:function(t){e.input3=t},expression:"input3"}})],1),e._v(" "),a("li",[e._v("\n        提交日期:\n        "),a("el-date-picker",{attrs:{type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd HH:mm:ss","default-time":["00:00:00","23:59:59"],format:"yyyy-MM-dd"},model:{value:e.value3,callback:function(t){e.value3=t},expression:"value3"}})],1),e._v(" "),a("li",[a("button",{staticClass:"BtnDisable",on:{click:e.search}},[e._v("查询")])])]),e._v(" "),a("p",{staticStyle:{"margin-top":"2px","padding-bottom":"5px"}},[a("button",{staticClass:"centerBtn",on:{click:e.getOrderId}},[e._v("重新获取单号")])]),e._v(" "),a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{"selection-change":e.handSelect}},[a("el-table-column",{attrs:{fixed:"",type:"selection",width:"55",align:"center"},on:{"selection-change":e.chongse}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"用户名",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sellerOrderId",label:"任务号",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"channelName",label:"渠道名称",width:"120",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gmtCreate",label:"发布日期",width:"150",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{prop:"logisticsType",label:"快递公司",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"===t.row.logisticsType?a("p",[e._v("圆通")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"shopType",label:"平台",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["1"===t.row.shopType?a("span",[e._v("淘宝")]):e._e(),e._v(" "),"2"===t.row.shopType?a("span",[e._v("天猫")]):e._e(),e._v(" "),"3"===t.row.shopType?a("span",[e._v("京东")]):e._e(),e._v(" "),"4"===t.row.shopType?a("span",[e._v("平多多")]):e._e(),e._v(" "),"5"===t.row.shopType?a("span",[e._v("其它")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"senderName",label:"发货信息",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v("发货人姓名:"+e._s(t.row.senderName))]),e._v(" "),a("p",[e._v("发货人电话："+e._s(t.row.senderTelephone))]),e._v(" "),a("p",[e._v("发货人地址："+e._s(t.row.senderProvince+t.row.senderCity+(t.row.senderRegion||"")+t.row.senderAddress))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"receiveName",label:"收货信息",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v("收货人姓名:"+e._s(t.row.receiveName))]),e._v(" "),a("p",[e._v("收货人电话："+e._s(t.row.receiveTelephone))]),e._v(" "),a("p",[e._v("收货人地址："+e._s(t.row.receiveProvince+t.row.receiveCity+(t.row.receiveRegion||"")+t.row.receiveAddress))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"orderInfo",label:"订单信息",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[a("span",[e._v("单价:")]),e._v(e._s(t.row.price||"--")+" 物品质量："+e._s(t.row.weight)+"kg")]),e._v(" "),a("p",[e._v("平台订单号:"+e._s(t.row.thirdOrderId))]),e._v(" "),a("p",[e._v("快递单号:"+e._s(t.row.logisticsOrderId))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"status",align:"center",label:"状态",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return["0"===t.row.payStatus?a("p",[e._v("是否付款： 未付款")]):e._e(),e._v(" "),"1"===t.row.payStatus?a("p",[e._v("商家已付款")]):e._e(),e._v(" "),"1"===t.row.payStatus?a("p",[e._v("站点已付款")]):e._e(),e._v(" "),"2"===t.row.payStatus?a("p",[e._v("任务已撤销")]):e._e(),e._v(" "),"1"===t.row.status?a("p",[e._v("快递单获取成功")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleClick(t.row)}}},[e._v("修改订单")]):a("el-button",{attrs:{type:"text",size:"small"}},[e._v("--")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizeArray,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]),e._v(" "),a("el-dialog",{attrs:{title:"用户充值确认",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("p",[a("span",[e._v("到账日期")]),e._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}})],1),e._v(" "),a("p",{staticClass:"markets"},[a("span",[e._v("备注")]),e._v(" "),a("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.textarea,callback:function(t){e.textarea=t},expression:"textarea"}})],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"修改订单","append-to-body":!0,visible:e.fixOrderObj.show,width:"600px",top:"15vh"},on:{"update:visible":function(t){e.$set(e.fixOrderObj,"show",t)}}},[a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"100px","text-align":"right"}},[e._v("收件人姓名")]),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:e.fixOrderObj.receiveName,callback:function(t){e.$set(e.fixOrderObj,"receiveName",t)},expression:"fixOrderObj.receiveName"}})],1),e._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"100px","text-align":"right"}},[e._v("收件人手机")]),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:e.fixOrderObj.receiveTelephone,callback:function(t){e.$set(e.fixOrderObj,"receiveTelephone",t)},expression:"fixOrderObj.receiveTelephone"}})],1),e._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"100px","text-align":"right"}},[e._v("收件人省")]),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:e.fixOrderObj.receiveProvince,callback:function(t){e.$set(e.fixOrderObj,"receiveProvince",t)},expression:"fixOrderObj.receiveProvince"}})],1),e._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"100px","text-align":"right"}},[e._v("收件人市")]),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:e.fixOrderObj.receiveCity,callback:function(t){e.$set(e.fixOrderObj,"receiveCity",t)},expression:"fixOrderObj.receiveCity"}})],1),e._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"100px","text-align":"right"}},[e._v("收件人区")]),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:e.fixOrderObj.receiveRegion,callback:function(t){e.$set(e.fixOrderObj,"receiveRegion",t)},expression:"fixOrderObj.receiveRegion"}})],1),e._v(" "),a("div",{staticClass:"cont",staticStyle:{"text-align":"center","margin-bottom":"20px"}},[a("span",{staticStyle:{display:"inline-block",width:"100px","text-align":"right"}},[e._v("收件人详细地址")]),e._v(" "),a("el-input",{staticStyle:{width:"300px","margin-left":"10px"},attrs:{placeholder:"请输入内容"},model:{value:e.fixOrderObj.receiveAddress,callback:function(t){e.$set(e.fixOrderObj,"receiveAddress",t)},expression:"fixOrderObj.receiveAddress"}})],1),e._v(" "),a("div",{staticClass:"buttons",staticStyle:{"text-align":"center","margin-top":"40px"}},[a("span",{staticClass:"btn-b",staticStyle:{"margin-right":"10px"},on:{click:function(t){e.fixOrderObj.show=!1}}},[e._v("取消")]),e._v(" "),a("span",{staticClass:"btn",on:{click:e.sureToFix}},[e._v("确定")])])])],1)},staticRenderFns:[]};var c=a("VU/8")(n,o,!1,function(e){a("gmhV")},"data-v-df56db6a",null);t.default=c.exports},gmhV:function(e,t){}});
//# sourceMappingURL=6.185d331635b3701ece2a.js.map