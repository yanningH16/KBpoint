webpackJsonp([7],{ufer:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l("Dd8w"),i=l.n(a),s=l("SJI6"),n={name:"userManger",mixins:[l("5jRo").a],data:function(){return{dialogVisible:!1,dialogVisible_1:!1,dialogVisible_2:!1,dialogVisible_3:!1,dialogVisible_4:!1,dialogVisible_5:!1,dialogVisible_6:!1,disabled:!0,pullClick:!1,currentPage:1,sellerUserName:"",input:"",input1:"",input2:"",input3:"",input4:"",input5:"",input6:"",input7:"",input8:"",input9:"",input10:"",textarea:"",value3:"",sellerAccountId:"",options:[{value:"0",label:"未提交"},{value:"1",label:"未审核"},{value:"2",label:"审核未通过"},{value:"3",label:"审核通过"}],value:"",userLevel:[{value4:"1",label:"注册用户"},{value4:"2",label:"高级用户"},{value4:"3",label:"钻石用户"},{value4:"4",label:"皇冠用户"},{value4:"11",label:"渠道用户"},{value4:"12",label:"代理商"}],value4:"",userState:[{value5:"1",label:"正常"},{value5:"2",label:"冻结"}],value5:"",value1:"",audit:[{value1:"0",label:"未提交"},{value1:"1",label:"未审核"},{value1:"2",label:"审核未通过"},{value1:"3",label:"审核通过"}],value2:"",level:[{value2:"1",label:"注册用户"},{value2:"2",label:"高级用户"},{value2:"3",label:"钻石用户"},{value2:"4",label:"皇冠用户"},{value2:"11",label:"渠道用户"},{value2:"12",label:"代理商"}],tableData:[],apiUrl:"/api/seller/getPagingSellerListByCondtion"}},computed:i()({params:function(){return{pageNo:this.pageNo,pageSize:this.pageSize,accountStatus:this.value5,checkStatus:this.value,level:this.value4,userName:this.input1,telephone:this.input2,qq:this.input,ip:this.input3,substationId:this.userInfo.substationId}}},Object(s.mapGetters)(["userInfo"])),methods:{search:function(){this.getList()},setList:function(e){this.tableData=e},handleClick:function(e){this.sellerAccountId=e.sellerAccountId,this.dialogVisible=!0},sure:function(){var e=this;this.$ajax.post("/api/seller/setCheckStatus",{sellerAccountId:this.sellerAccountId,checkStatus:this.value1}).then(function(t){"200"===t.data.code?(e.$message({type:"success",message:"设置成功"}),e.dialogVisible=!1,e.getList()):e.$message({type:"warning",message:t.data.message})}).catch(function(e){})},handleClickCecal:function(e){this.dialogVisible_1=!0,this.sellerAccountId=e.sellerAccountId,this.value2=e.level,this.input4=e.price},getLevel:function(){var e=this;"11"===this.value2||"12"===this.value2?this.disabled=!1:this.disabled=!0,this.$ajax.post("/api/substation/getPriceByLevelByStationId",{substationId:this.userInfo.substationId,level:this.value2}).then(function(t){var l=t.data;"200"===l.code?e.input4=l.data.price:e.$message({type:"warning",message:t.data.message})}).catch(function(e){})},sure_1:function(){var e=this;if(this.input4<2.8)return this.$message({type:"warning",message:"设置价格不能低于2.8元"}),!1;this.$ajax.post("/api/seller/setLevelAndPrice",{sellerAccountId:this.sellerAccountId,price:this.input4,level:this.value2}).then(function(t){"200"===t.data.code?(e.$message({type:"success",message:"设置成功"}),e.dialogVisible_1=!1,e.getList()):e.$message({type:"warning",message:t.data.message})}).catch(function(e){})},userSet:function(e){this.sellerAccountId=e[0].sellerAccountId,this.sellerUserName=e[0].userName,1===e[1]&&(this.dialogVisible_2=!0),2===e[1]&&(this.dialogVisible_4=!0),3===e[1]&&(this.dialogVisible_3=!0),4===e[1]&&(this.dialogVisible_6=!0),5===e[1]&&(this.dialogVisible_5=!0)},sure_2:function(){var e=this;this.$ajax.post("/api/seller/setInvitor",{sellerAccountId:this.sellerAccountId,invitorTelephone:this.input5}).then(function(t){"200"===t.data.code?(e.$message({type:"success",message:"设置成功"}),e.dialogVisible_2=!1,e.getList()):e.$message({type:"warning",message:t.data.message})}).catch(function(e){})},sure_3:function(){var e=this;this.$ajax.post("/api/seller/setAccountStatus",{sellerAccountId:this.sellerAccountId,accountStatus:this.value5}).then(function(t){"200"===t.data.code?(e.$message({type:"success",message:"设置成功"}),e.dialogVisible_3=!1,e.getList()):e.$message({type:"warning",message:t.data.message})}).catch(function(e){})},sure_4:function(){var e=this;if(""===this.input6||""===this.input7)return this.$message({type:"warning",message:"请正确填写内容!!!"}),!1;this.$ajax.post("/api/seller/recharge/reduceMoneyFromSellerFund",{sellerAccountId:this.sellerAccountId,money:this.input6,comment:this.input7,operateUserId:this.userInfo.channelAccountId}).then(function(t){"200"===t.data.code?(e.$message({type:"success",message:"扣除成功"}),e.dialogVisible_4=!1,e.getList()):e.$message({type:"warning",message:t.data.message})}).catch(function(e){})},sure_6:function(){var e=this;this.$ajax.post("/api/seller/recharge/addMoneyToSellerFund",{sellerAccountId:this.sellerAccountId,money:this.input8,comment:this.input9,operateUserId:this.userInfo.channelAccountId}).then(function(t){"200"===t.data.code?(e.$message({type:"success",message:"扣除成功"}),e.dialogVisible_6=!1,e.getList()):e.$message({type:"warning",message:t.data.message})}).catch(function(e){})},sure_5:function(){var e=this;this.$ajax.post("/api/seller/initPwd",{sellerAccountId:this.sellerAccountId}).then(function(t){"200"===t.data.code?(e.$message({type:"success",message:"密码重置成功"}),e.dialogVisible_5=!1,e.getList()):e.$message({type:"warning",message:t.data.message})}).catch(function(e){})}}},o={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"rechargeList"},[l("div",{staticClass:"wrap"},[l("h3",[e._v("用户管理")]),e._v(" "),l("ul",[l("li",[e._v("\n        审核状态:\n        "),l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),l("li",[e._v("\n        用户等级:\n        "),l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value4,callback:function(t){e.value4=t},expression:"value4"}},e._l(e.userLevel,function(e){return l("el-option",{key:e.value4,attrs:{label:e.label,value:e.value4}})}))],1),e._v(" "),l("li",[e._v("\n        用户状态:\n        "),l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value5,callback:function(t){e.value5=t},expression:"value5"}},e._l(e.userState,function(e){return l("el-option",{key:e.value5,attrs:{label:e.label,value:e.value5}})}))],1)]),e._v(" "),l("ul",{staticClass:"ulTow"},[l("li",[l("span",{staticStyle:{"margin-right":"13px"}},[e._v("用户名:")]),e._v(" "),l("el-input",{attrs:{placeholder:""},model:{value:e.input1,callback:function(t){e.input1=t},expression:"input1"}})],1),e._v(" "),l("li",[l("span",{staticStyle:{"margin-right":"30px"}},[e._v("电话:")]),e._v(" "),l("el-input",{attrs:{placeholder:""},model:{value:e.input2,callback:function(t){e.input2=t},expression:"input2"}})],1),e._v(" "),l("li",[l("button",{staticClass:"BtnDisable",on:{click:e.search}},[e._v("查询")])])]),e._v(" "),l("div",{staticClass:"table"},[l("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[l("el-table-column",{attrs:{prop:"userName",label:"用户名",width:"120",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{prop:"telephone",label:"手机",width:"120",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{prop:"balance",label:"余额",width:"120",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{prop:"rechargeSum",label:"累计充值",width:"120",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{prop:"levelDetail",label:"会员等级",width:"120",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{prop:"price",label:"圆通价",width:"120",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{prop:"statusDetail",label:"状态",width:"120",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{prop:"gmtCreate",label:"注册时间",width:"160",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{prop:"invitorName",label:"推荐人",width:"150",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{prop:"invitedCode",label:"邀请码",width:"320",align:"center"}}),e._v(" "),l("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{attrs:{type:"text",size:"small"},on:{click:function(l){e.handleClickCecal(t.row)}}},[e._v("设置等级/价格")]),e._v(" "),l("el-dropdown",{on:{command:e.userSet}},[l("span",{staticStyle:{"font-size":"12px",color:"#409EFF"}},[e._v("\n                更多\n                "),l("i",{staticClass:"el-icon-arrow-down"})]),e._v(" "),l("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[l("el-dropdown-item",{attrs:{command:[t.row,1]}},[e._v("设置推荐人")]),e._v(" "),l("el-dropdown-item",{attrs:{command:[t.row,2]}},[e._v("扣除金额")]),e._v(" "),l("el-dropdown-item",{attrs:{command:[t.row,3]}},[e._v("禁用")]),e._v(" "),l("el-dropdown-item",{attrs:{command:[t.row,4]}},[e._v("用户充值")]),e._v(" "),l("el-dropdown-item",{attrs:{command:[t.row,5]}},[e._v("重置密码")])],1)],1)]}}])})],1)],1),e._v(" "),l("div",{staticClass:"pager"},[l("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizeArray,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)]),e._v(" "),l("el-dialog",{attrs:{title:"设置审核状态",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[l("span",[e._v("审核")]),e._v(" "),l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},e._l(e.audit,function(e){return l("el-option",{key:e.value1,attrs:{label:e.label,value:e.value1}})})),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.sure}},[e._v("确 定")])],1)],1),e._v(" "),l("el-dialog",{attrs:{title:"设置用户等级和价格",visible:e.dialogVisible_1,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible_1=t}}},[l("p",{staticStyle:{"margin-left":"28px"}},[l("span",[e._v("等级")]),e._v(" "),l("el-select",{attrs:{placeholder:"请选择"},on:{change:e.getLevel},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}},e._l(e.level,function(e){return l("el-option",{key:e.value2,attrs:{label:e.label,value:e.value2}})}))],1),e._v(" "),l("p",{staticStyle:{"margin-top":"20px"}},[l("span",[e._v("圆通价格")]),e._v(" "),l("el-input",{attrs:{disabled:e.disabled,placeholder:""},model:{value:e.input4,callback:function(t){e.input4=t},expression:"input4"}}),e._v(" "),l("br"),e._v(" "),l("em",{staticStyle:{"font-size":"12px",color:"#ff3341","margin-left":"58px"}},[e._v("最低价格不能低于2.8元")])],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogVisible_1=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.sure_1}},[e._v("确 定")])],1)]),e._v(" "),l("el-dialog",{attrs:{title:"设置推荐人",visible:e.dialogVisible_2,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible_2=t}}},[l("p",{staticStyle:{"margin-top":"20px"}},[l("span",[e._v("推荐人手机号")]),e._v(" "),l("el-input",{attrs:{placeholder:""},model:{value:e.input5,callback:function(t){e.input5=t},expression:"input5"}})],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogVisible_2=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.sure_2}},[e._v("确 定")])],1)]),e._v(" "),l("el-dialog",{attrs:{title:"禁用/解禁用户",visible:e.dialogVisible_3,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible_3=t}}},[l("p",{staticStyle:{"margin-top":"20px"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.value5,callback:function(t){e.value5=t},expression:"value5"}},e._l(e.userState,function(e){return l("el-option",{key:e.value5,attrs:{label:e.label,value:e.value5}})}))],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogVisible_3=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.sure_3}},[e._v("确 定")])],1)]),e._v(" "),l("el-dialog",{attrs:{title:"扣除金额",visible:e.dialogVisible_4,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible_4=t}}},[l("p",[l("span",[e._v("金额(元)")]),e._v(" "),l("el-input",{attrs:{placeholder:""},model:{value:e.input6,callback:function(t){e.input6=t},expression:"input6"}})],1),e._v(" "),l("p",{staticStyle:{"margin-top":"20px","margin-left":"23px"}},[l("span",[e._v("备注")]),e._v(" "),l("el-input",{attrs:{placeholder:""},model:{value:e.input7,callback:function(t){e.input7=t},expression:"input7"}})],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogVisible_4=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.sure_4}},[e._v("确 定")])],1)]),e._v(" "),l("el-dialog",{attrs:{title:"重置密码",visible:e.dialogVisible_5,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible_5=t}}},[l("p",{staticStyle:{"margin-top":"20px"}},[e._v("\n      你确定要重置"+e._s(e.sellerUserName)+"用户密码么?请谨慎操作\n    ")]),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogVisible_5=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.sure_5}},[e._v("确 定")])],1)]),e._v(" "),l("el-dialog",{attrs:{title:"用户充值",visible:e.dialogVisible_6,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible_6=t}}},[l("p",[l("span",[e._v("金额(元)")]),e._v(" \n      "),l("el-input",{attrs:{placeholder:""},model:{value:e.input8,callback:function(t){e.input8=t},expression:"input8"}})],1),e._v(" "),l("p",{staticStyle:{"margin-top":"20px","margin-left":"25px"}},[l("span",[e._v("备注")]),e._v(" \n      "),l("el-input",{attrs:{placeholder:""},model:{value:e.input9,callback:function(t){e.input9=t},expression:"input9"}})],1),e._v(" "),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{on:{click:function(t){e.dialogVisible_6=!1}}},[e._v("取 消")]),e._v(" "),l("el-button",{attrs:{type:"primary"},on:{click:e.sure_6}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]};var u=l("VU/8")(n,o,!1,function(e){l("yiDB")},"data-v-5ec20464",null);t.default=u.exports},yiDB:function(e,t){}});
//# sourceMappingURL=7.d1de2b9ca1db8877ce36.js.map